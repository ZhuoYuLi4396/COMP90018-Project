# Auto-Generated Test Plan (Skeleton)

_Generated by scripts/gen_testplan.py_

## How to use
- Start from these suggested checks, add **Preconditions / Steps / Expected Results / Priority**.
- For Activities use **Robolectric/Instrumentation**; for pure logic use **JUnit + Mockito**.
- Prefer **Firebase Emulator Suite** over production during tests.

## API/Service/DTO

### GeocodingResponse.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/api/GeocodingResponse.java`
- Request building with expected params/headers.
- Response DTO mapping from sample JSON.
- Network failure handling and retries (if implemented).

### GeocodingService.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/api/GeocodingService.java`
- Request building with expected params/headers.
- Response DTO mapping from sample JSON.
- Network failure handling and retries (if implemented).

## Activity (UI flow)

### AddBillActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/AddBillActivity.java`
- Payer selection; split strategies (equal/custom).
- Currency/amount validation; negative/zero blocked.
- Photo receipt attach/preview (gallery/camera).
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### AddTripActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/AddTripActivity.java`
- Create trip: required fields, date range validity (start â‰¤ end).
- Location field: manual vs geocoded input.
- Tripmates add/remove; duplicate email blocked.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### AlgorithmTestActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/AlgorithmTestActivity.java`
- Algorithm correctness on sample datasets; time complexity sanity.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### BillDetailActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/BillDetailActivity.java`
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### ChangeNameActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ChangeNameActivity.java`
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### EditBillActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/EditBillActivity.java`
- Edit line items and participants; recompute splits.
- Deleting/restoring bills behavior.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### EditTripActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/EditTripActivity.java`
- Persist edited fields; unchanged fields remain.
- Cancel vs Save navigation outcomes.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### ForgotPasswordActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ForgotPasswordActivity.java`
- Sends reset email; invalid email guarded.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### HomeActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/HomeActivity.java`
- Bottom nav switches tabs; recent trips feed; fab actions.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### MainActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/MainActivity.java`
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### ParticipantsSelectionActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ParticipantsSelectionActivity.java`
- Multi-select; search/filter; already-added state.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### PayerSelectionActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/PayerSelectionActivity.java`
- Only one payer selected; default selection rules.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### ProfileActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ProfileActivity.java`
- Change name flow; sign out; avatar placeholder.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### SignInActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/SignInActivity.java`
- Email/password validation; FirebaseAuth errors surfaced.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### SignUpActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/SignUpActivity.java`
- Password strength/confirm match; duplicate email error.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### SplashActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/SplashActivity.java`
- Auth gate routes anonymous vs signed-in users.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### TripDetailActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/TripDetailActivity.java`
- Bills list displays; totals/balances recompute on change.
- Realtime listener update UI on Firestore changes.
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

### TripPageActivity.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/TripPageActivity.java`
- Launch renders without crash (Robolectric/Instrumentation).
- Toolbar/nav buttons respond (Back/Home).
- Empty state renders with no data.
- Form validation: required fields, formats (email, amount).
- Intent extras parsed correctly; missing/invalid extras handled.
- Lifecycle: rotate screen, background/foreground preserves state.
- Permissions flow (if applicable): request/deny/grant paths.
- Happy path navigation to next screen (Intent).
- Error handling: API/DB failure shows toast/snackbar/dialog.

## Adapter (RecyclerView/List)

### BillsAdapter.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/BillsAdapter.java`
- Formatting of amounts; highlight payer/user debts.
- onCreateViewHolder inflates correct layout.
- onBindViewHolder binds all fields for typical item.
- List updates notifyDataSetChanged / DiffUtil emits correct changes.
- Click listeners (item/child) invoke expected callbacks.
- Empty/short/long data sets render without crash.

### ParticipantBalanceAdapter.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ParticipantBalanceAdapter.java`
- onCreateViewHolder inflates correct layout.
- onBindViewHolder binds all fields for typical item.
- List updates notifyDataSetChanged / DiffUtil emits correct changes.
- Click listeners (item/child) invoke expected callbacks.
- Empty/short/long data sets render without crash.

### SplitAmountAdapter.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/SplitAmountAdapter.java`
- Custom split input syncs with data model; validation.
- onCreateViewHolder inflates correct layout.
- onBindViewHolder binds all fields for typical item.
- List updates notifyDataSetChanged / DiffUtil emits correct changes.
- Click listeners (item/child) invoke expected callbacks.
- Empty/short/long data sets render without crash.

### TripAdapter.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/TripAdapter.java`
- Trip card date/location renders; click navigates to details.
- onCreateViewHolder inflates correct layout.
- onBindViewHolder binds all fields for typical item.
- List updates notifyDataSetChanged / DiffUtil emits correct changes.
- Click listeners (item/child) invoke expected callbacks.
- Empty/short/long data sets render without crash.

## Model/Data

### Bill.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/Bill.java`
- Field defaults and nullability.
- Serialization/deserialization (e.g., Firestore/Bundle/JSON).
- Equality/hashCode if used in sets/maps.
- Date/time/amount formatting utilities.

### ParticipantBalance.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ParticipantBalance.java`
- Field defaults and nullability.
- Serialization/deserialization (e.g., Firestore/Bundle/JSON).
- Equality/hashCode if used in sets/maps.
- Date/time/amount formatting utilities.

### ParticipantSplit.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ParticipantSplit.java`
- Field defaults and nullability.
- Serialization/deserialization (e.g., Firestore/Bundle/JSON).
- Equality/hashCode if used in sets/maps.
- Date/time/amount formatting utilities.

### Trip.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/Trip.java`
- Field defaults and nullability.
- Serialization/deserialization (e.g., Firestore/Bundle/JSON).
- Equality/hashCode if used in sets/maps.
- Date/time/amount formatting utilities.

### TripMember.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/TripMember.java`
- Field defaults and nullability.
- Serialization/deserialization (e.g., Firestore/Bundle/JSON).
- Equality/hashCode if used in sets/maps.
- Date/time/amount formatting utilities.

## Other

### BleUidExchange.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/BleUidExchange.java`
- BLE permission gating (Android 12+); scan/advertise lifecycle.
- No-ble devices fallback.
- Foreground/background behavior.
- General unit tests based on class behavior or collaborators.

### ReceiptOcrParser.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/ReceiptOcrParser.java`
- OCR input parse stability; sample receipts mapping.
- General unit tests based on class behavior or collaborators.

## Utility

### CurrencyUtils.java

- Path: `app/src/main/java/unimelb/comp90018/equaltrip/CurrencyUtils.java`
- Format amounts for locale; rounding; edge cases.
- Pure functions yield expected outputs for typical/edge cases.
- Locale/currency formatting adheres to target settings (e.g., en-AU).
